<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie-edge">
  <title> Yeliz Dingler Database </title>
  <link rel="shortcut icon" href="#">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link rel="stylesheet" href="./style.css"
</head>
<body>
  <main>
    <form>
      <label for = "studentId">Öğrenci ID</label><br>
      <input type="number" name="studentId" id="studentId"><br>
      <label for="firstName">Ad</label><br>
      <input type="text" name="firstName" id="firstName"><br>
      <label for="lastName">Soyad</label><br>
      <input type="text" name="lastName" id="lastName"><br>
      <label for="age">Yaş</label><br>
      <input type="number" name="age" id="age"><br>
      <label for="weight">Kilo</label><br>
      <input type="number" name="weight" id="weight"><br>
      <label for="height">Boy</label><br>
      <input type="number" name="height" id="height"><br>
      <label for="mail">Mail Adresi</label><br>
      <input type="text" name="mail" id="mail"><br>
      <label for="phone">Telefon</label><br>
      <input type="text" name="phone" id="phone"><br><br>
      
      <label for = "footInfo">Ayak</label><br>
      <input type="text" name="footInfo" id="footInfo"><br>
      <label for="kneeInfo">Diz</label><br>
      <input type="text" name="kneeInfo" id="kneeInfo"><br>
      <label for="hipInfo">Kalça</label><br>
      <input type="text" name="hipInfo" id="hipInfo"><br>
      <label for="chestInfo">Göğüs Kafesi</label><br>
      <input type="text" name="chestInfo" id="chestInfo"><br>
      <label for="earInfo">Kulak</label><br>
      <input type="text" name="earInfo" id="earInfo"><br><br>
       
      <label for = "healthHistory">Sağlık Geçmişi</label><br><br>
      <label for="surgeryInfo">Ameliyat Geçmişi</label><br>
      <input type="text" name="surgeryInfo" id="surgeryInfo"><br>
      <label for = "motherHealth">Anne</label><br>
      <input type="text" name="motherHealth" id="motherHealth"><br>
      <label for="fatherHealth">Baba</label><br>
      <input type="text" name="fatherHealth" id="fatherHealth"><br>
      <label for="momGrandMom">Anne Anne</label><br>
      <input type="text" name="momGrandMom" id="momGrandMom"><br>
      <label for="momGrandDad">Anne tarafı Dede</label><br>
      <input type="text" name="momGrandDad" id="momGrandDad"><br>
      <label for="dadGrandMom">Baba Anne</label><br>
      <input type="text" name="dadGrandMom" id="dadGrandMom"><br>
      <label for="dadGrandDad">Baba Tarafı Dede</label><br>
      <input type="text" name="dadGrandDad" id="dadGrandDad"><br><br><br>
        
      <label for = "eatHistory">Yeme İçme</label><br><br>
      <input type="text" name="eatHistory" id="eatHistory"><br><br>
      <label for = "sleepHistory">Uyku</label><br>
      <input type="text" name="sleepHistory" id="sleepHistory"><br>
      <label for="activityHistory">Aktivite</label><br>
      <input type="text" name="activityHistory" id="activityHistory"><br>
       
    </form>       
    <form action="/action_page.php">
      <label for="img">Select image:</label>
      <input type="file" id="img" name="img" accept="image/*">
      <label for="img">Select image:</label>
      <input type="file" id="img2" name="img2" accept="image/*">
      <label for="img">Select image:</label>
      <input type="file" id="img3" name="img3" accept="image/*">
      <label for="img">Select image:</label>
      <input type="file" id="img4" name="img4" accept="image/*">
      <label for="img">Select image:</label>
      <input type="file" id="img5" name="img5" accept="image/*">
      <input type="submit">
    </form>
     <form>
      <button id="addBtn" class="btn waves-effect waves-light">Add</button>
      <button id="updateBtn" class="btn waves-effect waves-light">Update</button>
      <button id="removeBtn" class="btn waves-effect red-darken-l">Remove</button>
      <button id="showBtn" class="btn waves-effect waves-light">Show</button>
      </form>

   
    <table id="studentTable" class="table table-borderless table-striped table-earning">
  <thead>
    <tr>
      <th>StudentID</th>
      <th>Name</th>
      <th>Surname</th>
      <th>Age</th>
      <th>Weight</th>
      <th>Height</th>
      <th>Mail</th>
      <th>Phone</th>
      <th>Foot</th>
      <th>Knee</th>
      <th>Hip</th>
      <th>Chest</th>
      <th>Ear</th>
      <th>Surgery</th>
      <th>Mum</th>
      <th>Dad</th>   
      <th>Grandma(Mum's)</th>
      <th>Grandpa(Mums's)</th>
      <th>Grandma(Dad's)</th>
      <th>Grandma(Dad's)</th>
      <th>EatingHabit</th>
      <th>SleepHabit</th>
      <th>Activity</th>
    </tr>
  </thead>
  <tbody id="testBody"></tbody>
</table>
    </main>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-analytics.js"></script>

<script>
 const firebaseConfig = {
  apiKey: "AIzaSyAGJJcvc9D_WRUCvfnaGbJPgTSEdzrfDSE",
  authDomain: "ace-tracker-306518.firebaseapp.com",
  databaseURL: "https://ace-tracker-306518-default-rtdb.firebaseio.com",
  projectId: "ace-tracker-306518",
  storageBucket: "ace-tracker-306518.appspot.com",
  messagingSenderId: "526755668636",
  appId: "1:526755668636:web:942fec5ac4cd04510f4359",
  measurementId: "G-Z3ZY5TSXHC"
};
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  
  const studentId = document.getElementById('studentId');
  const firstName = document.getElementById('firstName');
  const lastName = document.getElementById('lastName');
  const age = document.getElementById('age');
  const weight = document.getElementById('weight');
  const height = document.getElementById('height');
  const mail = document.getElementById('mail');
  const phone = document.getElementById('phone');
  
  const footInfo = document.getElementById('footInfo');
  const kneeInfo = document.getElementById('kneeInfo');
  const hipInfo = document.getElementById('hipInfo');
  const chestInfo = document.getElementById('chestInfo');
  const earInfo = document.getElementById('earInfo');
  
  
  const surgeryInfo = document.getElementById('surgeryInfo');
  const motherHealth = document.getElementById('motherHealth');
  const fatherHealth = document.getElementById('fatherHealth');
  const momGrandMom = document.getElementById('momGrandMom');
  const momGrandDad = document.getElementById('momGrandDad');
  const dadGrandMom = document.getElementById('dadGrandMom');
  const dadGrandDad = document.getElementById('dadGrandDad');
  
  const eatHistory = document.getElementById('eatHistory');
  const sleepHistory = document.getElementById('sleepHistory');
  const activityHistory = document.getElementById('activityHistory');
  
  const img = document.getElementById('img');
  const img2 = document.getElementById('img2');
  const img3 = document.getElementById('img3');
  const img4 = document.getElementById('img4');
  const img5 = document.getElementById('img5');
  
  const addBtn = document.getElementById('addBtn');
  const updateBtn = document.getElementById('updateBtn');
  const removeBtn = document.getElementById('removeBtn');
  const showBtn = document.getElementById('showBtn');
  

  const database = firebase.database();
  var students = database.ref('students');

  addBtn.addEventListener('click', function(e) {
    var newStudentRef = students.push();
    newStudentRef.set({
      firstName: firstName.value,
      lastName: lastName.value,
      age: age.value,
      weight: weight.value,
      height: height.value,
      mail: mail.value,
      phone: phone.value,
      footInfo: footInfo.value,
      kneeInfo: kneeInfo.value,
      hipInfo: hipInfo.value,
      chestInfo: chestInfo.value,
      earInfo: earInfo.value,
      surgeryInfo: surgeryInfo.value,
      motherHealth: motherHealth.value,
      fatherHealth: fatherHealth.value,
      momGrandMom: momGrandMom.value,
      momGrandDad: momGrandDad.value,
      dadGrandMom: dadGrandMom.value,
      dadGrandDad: dadGrandDad.value,
      eatHistory: eatHistory.value,
      sleepHistory: sleepHistory.value,
      activityHistory: activityHistory.value,
      img: img.value,
      img2: img2.value,
      img3: img3.value,
      img4: img4.value,
      img5: img5.value
    })
  })
  
  function loadTableData(items) {
    const table = document.getElementById("testBody");
    items.forEach( item => {
      let row = table.insertRow();
      
      let firstName = row.insertCell(0);
      firstName.innerHTML = item.firstName;
      let lastName = row.insertCell(1);
      lastName.innerHTML = item.lastName;
      let age = row.insertCell(2);
      age.innerHTML = item.age;
      let weight = row.insertCell(3);
      weight.innerHTML = item.weight;
      let height = row.insertCell(4);
      height.innerHTML = item.height;
      let mail = row.insertCell(5);
      mail.innerHTML = item.mail;
      let phone = row.insertCell(6);
      phone.innerHTML = item.phone;
      let footInfo = row.insertCell(7);
      footInfo.innerHTML = item.footInfo;
      let kneeInfo = row.insertCell(8);
      kneeInfo.innerHTML = item.kneeInfo;
      let hipInfo = row.insertCell(9);
      hipInfo.innerHTML = item.hipInfo;
      let chestInfo = row.insertCell(10);
      chestInfo.innerHTML = item.chestInfo;
      let earInfo = row.insertCell(11);
      earInfo.innerHTML = item.earInfo;
      let surgeryInfo = row.insertCell(12);
      surgeryInfo.innerHTML = item.surgeryInfo;
      let motherHealth = row.insertCell(13);
      motherHealth.innerHTML = item.motherHealth;
      let fatherHealth = row.insertCell(14);
      fatherHealth.innerHTML = item.fatherHealth;
      let momGrandMom = row.insertCell(15);
      momGrandMom.innerHTML = item.momGrandMom;
      let momGrandDad = row.insertCell(16);
      momGrandDad.innerHTML = item.momGrandDad;
      let dadGrandMom = row.insertCell(17);
      dadGrandMom.innerHTML = item.dadGrandMom;
      let dadGrandDad = row.insertCell(18);
      dadGrandDad.innerHTML = item.dadGrandDad;
      let eatHistory = row.insertCell(19);
      eatHistory.innerHTML = item.eatHistory;
      let sleepHistory = row.insertCell(20);
      sleepHistory.innerHTML = item.sleepHistory;
      let activityHistory = row.insertCell(21);
      activityHistory.innerHTML = item.activityHistory;
    });
  }
  
  // Attach an asynchronous callback to read the data at our posts reference
students.on("value", function(snapshot) {
  console.log(snapshot.val());
  loadTableData( snapshot.val());
}, function (errorObject) {
  console.log("The read failed: " + errorObject.code);
});

  </script>
</body>
</html>
